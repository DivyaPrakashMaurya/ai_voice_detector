{"ast":null,"code":"// import React, { useState } from \"react\";\n\n// function App() {\n//   const [result, setResult] = useState(null);\n\n//   const handleTest = async () => {\n//     const response = await fetch(\"http://127.0.0.1:8000/\");\n//     const data = await response.json();\n//     setResult(data.message || JSON.stringify(data));\n//   };\n\n//   return (\n//     <div className=\"App\">\n//       <h1>Voice Detector Frontend</h1>\n//       <button onClick={handleTest}>Test Backend</button>\n//       {result && <p>Backend says: {result}</p>}\n//     </div>\n//   );\n// }\n\n// export default App;\n\n// import React, { useState } from \"react\";\n\n// function App() {\n//   const [file, setFile] = useState(null);\n//   const [result, setResult] = useState(null);\n//   const [loading, setLoading] = useState(false);\n\n//   // Handle file selection\n//   const handleFileChange = (event) => {\n//     setFile(event.target.files[0]);\n//     setResult(null);\n//   };\n\n//   // Convert file to Base64 and send to backend\n//   const handleUpload = async () => {\n//     if (!file) {\n//       alert(\"Please select a .wav file first!\");\n//       return;\n//     }\n\n//     setLoading(true);\n\n//     try {\n//       // Convert file to Base64\n//       const reader = new FileReader();\n//       reader.readAsDataURL(file);\n//       reader.onloadend = async () => {\n//         const base64Audio = reader.result.split(\",\")[1]; // remove prefix\n//         // console.log(\"Sending body:\", JSON.stringify({ audio: base64Audio }));\n//         console.log(\"Sending request to backend at http://127.0.0.1:8000/predict\");\n//         console.log(\"Payload:\", JSON.stringify({ audio: base64Audio }));\n\n//         // Send to backend\n//         // const response = await fetch(\"http://127.0.0.1:8000/predict\", {\n//         //   method: \"POST\",\n//         //   headers: { \"Content-Type\": \"application/json\" },\n//         //   body: JSON.stringify({ audio: base64Audio }),\n//         // });\n\n//         const response = await fetch(\"http://127.0.0.1:8000/api/voice-detection\", {\n//   method: \"POST\",\n//   headers: {\n//     \"Content-Type\": \"application/json\",\n//     \"x-api-key\": \"sk_test_123456789\"   // must match backend API_KEY\n//   },\n//   body: JSON.stringify({\n//     language: \"Tamil\",\n//     audioFormat: \"mp3\",\n//     audioBase64: base64Audio\n//   })\n// });\n\n//         if (!response.ok) {\n//           throw new Error(\"Backend error: \" + response.statusText);\n//         }\n\n//         const data = await response.json();\n//         setResult(data);\n//         setLoading(false);\n//       };\n//     } catch (error) {\n//       console.error(\"Error:\", error);\n//       setResult(\"Error: \" + error.message);\n//       setLoading(false);\n//     }\n//   };\n\n//   return (\n//     <div className=\"App\" style={{ textAlign: \"center\", marginTop: \"50px\" }}>\n//       <h1>ðŸŽ¤ Voice Detector Frontend</h1>\n\n//       <input\n//         type=\"file\"\n//         accept=\".wav,.mp3,.ogg,audio/*\"\n//         onChange={handleFileChange}\n//         style={{ margin: \"20px\" }}\n//       />\n//       {file && <p>Selected file: {file.name}</p>}\n\n//       <button onClick={handleUpload} disabled={loading}>\n//         {loading ? \"Analyzing...\" : \"Upload & Detect\"}\n//       </button>\n\n//       {result && (\n//   <div style={{ marginTop: \"20px\" }}>\n//     <h2>Result:</h2>\n//     <p><strong>Classification:</strong> {result.classification}</p>\n//     <p><strong>Confidence:</strong> {(result.confidence_score * 100).toFixed(2)}%</p>\n//   </div>\n// )}\n//     </div>\n//   );\n// }\n\n// export default App;","map":{"version":3,"names":[],"sources":["C:/Users/divin/OneDrive/Desktop/Ai hackathon/frontend/src/App.js"],"sourcesContent":["// import React, { useState } from \"react\";\r\n\r\n// function App() {\r\n//   const [result, setResult] = useState(null);\r\n\r\n//   const handleTest = async () => {\r\n//     const response = await fetch(\"http://127.0.0.1:8000/\");\r\n//     const data = await response.json();\r\n//     setResult(data.message || JSON.stringify(data));\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"App\">\r\n//       <h1>Voice Detector Frontend</h1>\r\n//       <button onClick={handleTest}>Test Backend</button>\r\n//       {result && <p>Backend says: {result}</p>}\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default App;\r\n\r\n// import React, { useState } from \"react\";\r\n\r\n// function App() {\r\n//   const [file, setFile] = useState(null);\r\n//   const [result, setResult] = useState(null);\r\n//   const [loading, setLoading] = useState(false);\r\n\r\n//   // Handle file selection\r\n//   const handleFileChange = (event) => {\r\n//     setFile(event.target.files[0]);\r\n//     setResult(null);\r\n//   };\r\n\r\n//   // Convert file to Base64 and send to backend\r\n//   const handleUpload = async () => {\r\n//     if (!file) {\r\n//       alert(\"Please select a .wav file first!\");\r\n//       return;\r\n//     }\r\n\r\n//     setLoading(true);\r\n\r\n//     try {\r\n//       // Convert file to Base64\r\n//       const reader = new FileReader();\r\n//       reader.readAsDataURL(file);\r\n//       reader.onloadend = async () => {\r\n//         const base64Audio = reader.result.split(\",\")[1]; // remove prefix\r\n//         // console.log(\"Sending body:\", JSON.stringify({ audio: base64Audio }));\r\n//         console.log(\"Sending request to backend at http://127.0.0.1:8000/predict\");\r\n//         console.log(\"Payload:\", JSON.stringify({ audio: base64Audio }));\r\n\r\n//         // Send to backend\r\n//         // const response = await fetch(\"http://127.0.0.1:8000/predict\", {\r\n//         //   method: \"POST\",\r\n//         //   headers: { \"Content-Type\": \"application/json\" },\r\n//         //   body: JSON.stringify({ audio: base64Audio }),\r\n//         // });\r\n\r\n//         const response = await fetch(\"http://127.0.0.1:8000/api/voice-detection\", {\r\n//   method: \"POST\",\r\n//   headers: {\r\n//     \"Content-Type\": \"application/json\",\r\n//     \"x-api-key\": \"sk_test_123456789\"   // must match backend API_KEY\r\n//   },\r\n//   body: JSON.stringify({\r\n//     language: \"Tamil\",\r\n//     audioFormat: \"mp3\",\r\n//     audioBase64: base64Audio\r\n//   })\r\n// });\r\n\r\n//         if (!response.ok) {\r\n//           throw new Error(\"Backend error: \" + response.statusText);\r\n//         }\r\n\r\n//         const data = await response.json();\r\n//         setResult(data);\r\n//         setLoading(false);\r\n//       };\r\n//     } catch (error) {\r\n//       console.error(\"Error:\", error);\r\n//       setResult(\"Error: \" + error.message);\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"App\" style={{ textAlign: \"center\", marginTop: \"50px\" }}>\r\n//       <h1>ðŸŽ¤ Voice Detector Frontend</h1>\r\n\r\n//       <input\r\n//         type=\"file\"\r\n//         accept=\".wav,.mp3,.ogg,audio/*\"\r\n//         onChange={handleFileChange}\r\n//         style={{ margin: \"20px\" }}\r\n//       />\r\n//       {file && <p>Selected file: {file.name}</p>}\r\n\r\n\r\n//       <button onClick={handleUpload} disabled={loading}>\r\n//         {loading ? \"Analyzing...\" : \"Upload & Detect\"}\r\n//       </button>\r\n\r\n//       {result && (\r\n//   <div style={{ marginTop: \"20px\" }}>\r\n//     <h2>Result:</h2>\r\n//     <p><strong>Classification:</strong> {result.classification}</p>\r\n//     <p><strong>Confidence:</strong> {(result.confidence_score * 100).toFixed(2)}%</p>\r\n//   </div>\r\n// )}\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default App;"],"mappings":"AAAA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}